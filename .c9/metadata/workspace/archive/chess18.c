{"filter":false,"title":"chess18.c","tooltip":"/archive/chess18.c","undoManager":{"mark":3,"position":3,"stack":[[{"group":"doc","deltas":[{"start":{"row":1664,"column":0},"end":{"row":2345,"column":1},"action":"remove","lines":["{","        /*je sauvegarde les \"vrai\" caseDepart et caseArrivee*/","    sauvegardeCaseDepart.ligne = caseDepart.ligne;","    sauvegardeCaseDepart.colonne = caseDepart.colonne;","    ","    sauvegardeCaseArrivee.ligne = caseArrivee.ligne;","    sauvegardeCaseArrivee.colonne = caseArrivee.colonne;","    ","    flagTestSiEchecEtMat = 1;","    int i,j,k,l,m,n,o,p;","    int roiNoireSauve = 0 ;","    int roiBlancSauve = 0 ;","    ","    if(joueurActif == 2)","    {","        echecEtMatRoiBlanc = 1;","        echecEtMatRoiNoir = 0;","    }","    else if(joueurActif == 1)","    {","        echecEtMatRoiBlanc = 0;","        echecEtMatRoiNoir = 1;","    }"," ","    ","    for(i = 0 ; i < 8 ; i++)","    {","        for(j = 0 ; j < 8 ; j++)//je parcours tout le tableau Ã  la recherche des pieces noires","        {   ","            roiNoireSauve = 0;","            roiBlancSauve = 0;","            caseDepart.ligne = i;","            caseDepart.colonne = j;","            if((t[i][j] == 'c' && joueurActif == 1) || (t[i][j] == 'C' && joueurActif == 2))","            {","","                caseArrivee.ligne = caseDepart.ligne -2;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","","                caseArrivee.ligne = caseDepart.ligne -2;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                    ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne -2;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                  ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne +2;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","","                caseArrivee.ligne = caseDepart.ligne +2;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                ","                caseArrivee.ligne = caseDepart.ligne +2;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                      ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne -2;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                  ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne +2;","                ","                runTestEchecMatElimination();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                ","                ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","                 ","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            if(t[i][j] == 'p' && joueurActif == 1)","            {","                if(i == 1 && t[caseDepart.ligne+1][caseDepart.colonne] == ' ' && t[caseDepart.ligne +2][caseDepart.colonne] == ' ') //avance de 2 cases pour le pion","                {","                    caseArrivee.ligne = caseDepart.ligne +2;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                        ","                }","                ","                if(t[caseDepart.ligne +1][caseDepart.colonne] == ' ')","                {","                    caseArrivee.ligne = caseDepart.ligne +1;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                         roiNoireSauve = 1;","                     else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                         roiBlancSauve = 1;","                }","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","    ","            ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                    ","                    ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            ","            ","            if(t[i][j] == 'P' && joueurActif == 2)","            {","                if(i == 1 && t[caseDepart.ligne-1][caseDepart.colonne] == ' ' && t[caseDepart.ligne -2][caseDepart.colonne] == ' ') //avance de 2 cases pour le pion","                {","                    caseArrivee.ligne = caseDepart.ligne -2;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    ","                    if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        roiNoireSauve = 1;","                    else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        roiBlancSauve = 1;","                        ","                }","                ","                if(t[caseDepart.ligne -1][caseDepart.colonne] == ' ')","                {","                    caseArrivee.ligne = caseDepart.ligne -1;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        roiNoireSauve = 1;","                    else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        roiBlancSauve = 1;","                }","                ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","    ","            ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","                    ","                    ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            if((t[i][j] == 'k' && joueurActif == 1 )|| (t[i][j] == 'K' && joueurActif == 2))","            {","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","               runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","                    ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne;","                ","               runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","                ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","               runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                    ","                ","                caseArrivee.ligne = caseDepart.ligne;","                caseArrivee.colonne = caseDepart.colonne+1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                   ","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                  ","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                ","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne -1;","","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                      ","                ","                caseArrivee.ligne = caseDepart.ligne;","                caseArrivee.colonne = caseDepart.colonne -1;","","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;  ","                    ","                 ","                 if(joueurActif == 1 && roiNoireSauve == 1)","                 {","                     echecEtMatRoiNoir = 0;","                     printf(\"le roi noir peut se sauver lui-mÃªme\\n\");","                 }","                 else if(joueurActif == 2 && roiBlancSauve == 1)","                 {","                     echecEtMatRoiBlanc = 0;","                     printf(\"le roi blanc peut se sauver lui-mÃªme\\n\");","                 }","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            ","           if(((t[i][j] == 't' || t[i][j] == 'q') && joueurActif == 1) || ((t[i][j] == 'T' || t[i][j] == 'Q') && joueurActif == 2))","           {","                percut = 0;","                /* je check en haut */","                for(k= i ; k >= 0 ; k--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = k;","                        caseArrivee.colonne = caseDepart.colonne;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","                    }","                }","                percut = 0; //je remet percut Ã  0 pour les autres tests","                ","                /* je check en bas */","                for(l= i ; l < 8 ; l++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = l;","                        caseArrivee.colonne = caseDepart.colonne;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","","                            ","                    }","                }","                percut = 0;","                ","                /* je check a droite */","                for(m= j ; m < 8 ; m++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = caseDepart.ligne;","                        caseArrivee.colonne = m;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","                    }","                }","                percut = 0;","                ","                /* je check a gauche */","                for(n= j ; n >= 0 ; n--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = caseDepart.ligne;","                        caseArrivee.colonne = n;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","                    }  ","                }","                percut = 0;","                ","                if(joueurActif == 1 && roiNoireSauve == 1)","                 {","                     echecEtMatRoiNoir = 0;","                     printf(\"une tour ou la reine peut sauver le roi\\n\");","                 }","                 else if(joueurActif == 2 && roiBlancSauve == 1)","                 {","                     echecEtMatRoiBlanc = 0;","                     printf(\"une tour ou la reine peut sauver le roi\\n\");","                 }","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            ","            if(((t[i][j] == 'f' || t[i][j] == 'q') && joueurActif == 1) || ((t[i][j] == 'F' || t[i][j] == 'Q') && joueurActif == 2))","            {  ","                percut = 0;","                /* je check HG */","                for(o= i, p=j ; o >= 0, p >= 0 ; o-- , p--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"HG noir\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"HG blanc\\n\");","                        }","                    }","                }","                percut = 0; //je remet percut Ã  0 pour les autres tests","                ","                /* je check HD */","                for(o= i, p=j ; o >= 0, p < 8 ; o-- , p++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"HD noir\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"HD blanc\\n\");","                        }","                    }","                }","                percut = 0;","                ","                /* je check BD */","                for(o= i, p=j ; o < 8, p < 8 ; o++ , p++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"BD\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"BD\\n\");","                        }","                    }","                }","                percut = 0;","                ","                /* je check BG */","                for(o= i, p=j ; o < 8, p >= 0 ; o++ , p--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"BG\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"BG\\n\");","                        }","                    }","                }","                percut = 0;","                ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","                ","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","        }","    }","    ","","    ","    /* ---------- une fois que tu auras enlever les printf(\"le roi noir peut se sauver lui mÃªme, tu peux rempalcer tout les if(roiNoirsSauve == 1) par une seule ci-dessous.\" -----------*/    ","    //if(roiNoireSauve == 0)","    //    echecEtMatRoiNoir = 1;","        ","    flagTestSiEchecEtMat = 0 ;","","}","","void runTestEchecMatElimination()","{","    char valeurCaseMange;","   ","    if(joueurActif == 1)//si c'est le joueurBlanc, c'est les pieces noire qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 't' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'f' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'c' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'k' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'p' )","        {","            /* sauvegarde de la piece visÃ© en cas d'Ã©limination*/","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","                      ","           /* on replace la piece visÃ© car si il y a Ã©limination il la effacÃ©*/","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;","","        }","        if(t[caseArrivee.ligne][caseArrivee.colonne] == 't' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'f' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'c' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'k' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'p' )","        {","            percut = 1;","        }","    }","    else if(joueurActif == 2)//si c'est le joueur Noir c'est les pieces blanches qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 'T' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'F' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'C' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'K' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'Q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'P' )","        {","            /* sauvegarde de la piece visÃ© en cas d'Ã©limination*/","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","                      ","           /* on replace la piece visÃ© car si il y a Ã©limination il la effacÃ©*/","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;","        }","        if(t[caseArrivee.ligne][caseArrivee.colonne] == 'T' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'F' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'C' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'K' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'Q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] == 'P' )","        {","            percut = 1;","        }","    }","","}","","void runTestEchecMatPion()","{","    char valeurCaseMange;","    if(joueurActif == 1)//si c'est le joueurBlanc, c'est les pieces noire qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 't' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'f' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'c' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'k' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'p' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != ' ')","        {","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];//j'utilise une variable pour stockÃ© la case \"mangÃ©\" pendant le test","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","          ","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;//je remet la piece manger pendant le test","        }  ","    }","    else if(joueurActif == 2)//si c'est le joueur Noirn c'est les pieces blanches qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 'T' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'F' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'C' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'K' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'Q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'P' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != ' ')","        {","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","          ","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;","        }  ","    }","","}"]},{"start":{"row":1664,"column":0},"end":{"row":2349,"column":1},"action":"insert","lines":["void testSiEchecEtMat()","{","        /*je sauvegarde les \"vrai\" caseDepart et caseArrivee*/","    sauvegardeCaseDepart.ligne = caseDepart.ligne;","    sauvegardeCaseDepart.colonne = caseDepart.colonne;","    ","    sauvegardeCaseArrivee.ligne = caseArrivee.ligne;","    sauvegardeCaseArrivee.colonne = caseArrivee.colonne;","    ","    flagTestSiEchecEtMat = 1;","    int i,j,k,l,m,n,o,p;","    int roiNoireSauve = 0 ;","    int roiBlancSauve = 0 ;","    ","    if(joueurActif == 2)","    {","        echecEtMatRoiBlanc = 1;","        echecEtMatRoiNoir = 0;","    }","    else if(joueurActif == 1)","    {","        echecEtMatRoiBlanc = 0;","        echecEtMatRoiNoir = 1;","    }"," ","    ","    for(i = 0 ; i < 8 ; i++)","    {","        for(j = 0 ; j < 8 ; j++)//je parcours tout le tableau Ã  la recherche des pieces noires","        {   ","            roiNoireSauve = 0;","            roiBlancSauve = 0;","            caseDepart.ligne = i;","            caseDepart.colonne = j;","            if((t[i][j] == 'c' && joueurActif == 1) || (t[i][j] == 'C' && joueurActif == 2))","            {","","                caseArrivee.ligne = caseDepart.ligne -2;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","","                caseArrivee.ligne = caseDepart.ligne -2;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                    ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne -2;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                  ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne +2;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","","                caseArrivee.ligne = caseDepart.ligne +2;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                ","                caseArrivee.ligne = caseDepart.ligne +2;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                      ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne -2;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                  ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne +2;","                ","                runTestEchecMatElimination();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                ","                ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","                 ","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            if(t[i][j] == 'p' && joueurActif == 1)","            {","                if(i == 1 && t[caseDepart.ligne+1][caseDepart.colonne] == ' ' && t[caseDepart.ligne +2][caseDepart.colonne] == ' ') //avance de 2 cases pour le pion","                {","                    caseArrivee.ligne = caseDepart.ligne +2;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                        ","                }","                ","                if(t[caseDepart.ligne +1][caseDepart.colonne] == ' ')","                {","                    caseArrivee.ligne = caseDepart.ligne +1;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                         roiNoireSauve = 1;","                     else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                         roiBlancSauve = 1;","                }","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","    ","            ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;","                    ","                    ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            ","            ","            if(t[i][j] == 'P' && joueurActif == 2)","            {","                if(i == 1 && t[caseDepart.ligne-1][caseDepart.colonne] == ' ' && t[caseDepart.ligne -2][caseDepart.colonne] == ' ') //avance de 2 cases pour le pion","                {","                    caseArrivee.ligne = caseDepart.ligne -2;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    ","                    if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        roiNoireSauve = 1;","                    else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        roiBlancSauve = 1;","                        ","                }","                ","                if(t[caseDepart.ligne -1][caseDepart.colonne] == ' ')","                {","                    caseArrivee.ligne = caseDepart.ligne -1;","                    caseArrivee.colonne = caseDepart.colonne;","                    ","                    testSiEchec();","                    if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        roiNoireSauve = 1;","                    else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        roiBlancSauve = 1;","                }","                ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","    ","            ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","                runTestEchecMatPion();","                ","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","                    ","                    ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            if((t[i][j] == 'k' && joueurActif == 1 )|| (t[i][j] == 'K' && joueurActif == 2))","            {","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne -1;","                ","               runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","                    ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne;","                ","               runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1; ","                ","                caseArrivee.ligne = caseDepart.ligne -1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","               runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                    ","                ","                caseArrivee.ligne = caseDepart.ligne;","                caseArrivee.colonne = caseDepart.colonne+1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                   ","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne +1;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                  ","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne;","                ","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                ","                ","                caseArrivee.ligne = caseDepart.ligne +1;","                caseArrivee.colonne = caseDepart.colonne -1;","","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;                      ","                ","                caseArrivee.ligne = caseDepart.ligne;","                caseArrivee.colonne = caseDepart.colonne -1;","","                runTestEchecMatElimination();","","                if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                    roiNoireSauve = 1;","                else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                    roiBlancSauve = 1;  ","                    ","                 ","                 if(joueurActif == 1 && roiNoireSauve == 1)","                 {","                     echecEtMatRoiNoir = 0;","                     printf(\"le roi noir peut se sauver lui-mÃªme\\n\");","                 }","                 else if(joueurActif == 2 && roiBlancSauve == 1)","                 {","                     echecEtMatRoiBlanc = 0;","                     printf(\"le roi blanc peut se sauver lui-mÃªme\\n\");","                 }","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            ","           if(((t[i][j] == 't' || t[i][j] == 'q') && joueurActif == 1) || ((t[i][j] == 'T' || t[i][j] == 'Q') && joueurActif == 2))","           {","                percut = 0;","                /* je check en haut */","                for(k= i ; k >= 0 ; k--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = k;","                        caseArrivee.colonne = caseDepart.colonne;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","                    }","                }","                percut = 0; //je remet percut Ã  0 pour les autres tests","                ","                /* je check en bas */","                for(l= i ; l < 8 ; l++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = l;","                        caseArrivee.colonne = caseDepart.colonne;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","","                            ","                    }","                }","                percut = 0;","                ","                /* je check a droite */","                for(m= j ; m < 8 ; m++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = caseDepart.ligne;","                        caseArrivee.colonne = m;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","                    }","                }","                percut = 0;","                ","                /* je check a gauche */","                for(n= j ; n >= 0 ; n--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = caseDepart.ligne;","                        caseArrivee.colonne = n;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                            roiNoireSauve = 1;","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                            roiBlancSauve = 1;","                    }  ","                }","                percut = 0;","                ","                if(joueurActif == 1 && roiNoireSauve == 1)","                 {","                     echecEtMatRoiNoir = 0;","                     printf(\"une tour ou la reine peut sauver le roi\\n\");","                 }","                 else if(joueurActif == 2 && roiBlancSauve == 1)","                 {","                     echecEtMatRoiBlanc = 0;","                     printf(\"une tour ou la reine peut sauver le roi\\n\");","                 }","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","            ","            if(((t[i][j] == 'f' || t[i][j] == 'q') && joueurActif == 1) || ((t[i][j] == 'F' || t[i][j] == 'Q') && joueurActif == 2))","            {  ","                percut = 0;","                ","                printf(\"%c a la ligne %d , colonne %d\\n\", t[i][j], i, j);","                /* je check HG */","                for(o= i, p=j ; o >= 0, p >= 0 ; o-- , p--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"HG noir\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"HG blanc\\n\");","                        }","                    }","                }","                percut = 0; //je remet percut Ã  0 pour les autres tests","                ","                /* je check HD */","                for(o= i, p=j ; o >= 0, p < 8 ; o-- , p++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"HD noir\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"HD blanc\\n\");","                        }","                    }","                }","                percut = 0;","                ","                /* je check BD */","                for(o= i, p=j ; o < 8, p < 8 ; o++ , p++)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"BD\\n\");","                            printf(\"contenu : %c , ligne %d , colonne %d\\n\", t[o][p], o, p);","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"BD\\n\");","                        }","                    }","                }","                percut = 0;","                ","                /* je check BG */","                for(o= i, p=j ; o < 8, p >= 0 ; o++ , p--)","                {","                    if(percut == 0)","                    {","                        caseArrivee.ligne = o;","                        caseArrivee.colonne = p;","                        ","                        runTestEchecMatElimination();","                        ","                        if(joueurActif == 1 && RoiNoireEnECHEC == 0)","                        {","                            roiNoireSauve = 1;","                            printf(\"BG\\n\");","                        }","                        else if(joueurActif == 2 && RoiBlancEnECHEC == 0)","                        {","                            roiBlancSauve = 1;","                            printf(\"BG\\n\");","                        }","                    }","                }","                percut = 0;","                ","                if(joueurActif == 1 && roiNoireSauve == 1)","                    echecEtMatRoiNoir = 0;","                else if(joueurActif == 2 && roiBlancSauve == 1)","                    echecEtMatRoiBlanc = 0;","                ","                 ","                caseDepart.ligne = sauvegardeCaseDepart.ligne;","                caseDepart.colonne = sauvegardeCaseDepart.colonne;","","                caseArrivee.ligne = sauvegardeCaseArrivee.ligne;","                caseArrivee.colonne = sauvegardeCaseArrivee.colonne;","            }","            ","        }","    }","    ","","    ","    /* ---------- une fois que tu auras enlever les printf(\"le roi noir peut se sauver lui mÃªme, tu peux rempalcer tout les if(roiNoirsSauve == 1) par une seule ci-dessous.\" -----------*/    ","    //if(roiNoireSauve == 0)","    //    echecEtMatRoiNoir = 1;","        ","    flagTestSiEchecEtMat = 0 ;","","}","","void runTestEchecMatElimination()","{","    char valeurCaseMange;","   ","    if(joueurActif == 1)//si c'est le joueurBlanc, c'est les pieces noire qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 't' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'f' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'c' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'k' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'p' )","        {","            /* sauvegarde de la piece visÃ© en cas d'Ã©limination*/","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","                      ","           /* on replace la piece visÃ© car si il y a Ã©limination il la effacÃ©*/","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;","","        }","        if(t[caseArrivee.ligne][caseArrivee.colonne] == 't' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'f' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'c' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'k' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'q' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'p' )","        {","            percut = 1;","        }","    }","    else if(joueurActif == 2)//si c'est le joueur Noir c'est les pieces blanches qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 'T' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'F' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'C' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'K' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'Q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'P' )","        {","            /* sauvegarde de la piece visÃ© en cas d'Ã©limination*/","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","                      ","           /* on replace la piece visÃ© car si il y a Ã©limination il la effacÃ©*/","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;","        }","        if(t[caseArrivee.ligne][caseArrivee.colonne] == 'T' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'F' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'C' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'K' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'Q' ||","           t[caseArrivee.ligne][caseArrivee.colonne] == 'P' )","        {","            percut = 1;","        }","    }","","}","","void runTestEchecMatPion()","{","    char valeurCaseMange;","    if(joueurActif == 1)//si c'est le joueurBlanc, c'est les pieces noire qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 't' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'f' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'c' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'k' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'p' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != ' ')","        {","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];//j'utilise une variable pour stockÃ© la case \"mangÃ©\" pendant le test","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","          ","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;//je remet la piece manger pendant le test","        }  ","    }","    else if(joueurActif == 2)//si c'est le joueur Noirn c'est les pieces blanches qui doivent sauver le roi","    {","        if(t[caseArrivee.ligne][caseArrivee.colonne] != 'T' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'F' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'C' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'K' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'Q' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != 'P' &&","           t[caseArrivee.ligne][caseArrivee.colonne] != ' ')","        {","          valeurCaseMange = t[caseArrivee.ligne][caseArrivee.colonne];","        ","          testSiEchec(); //il va tester si il peux faire ce coup, et test l'echec Ã  chaque fois ","          ","          t[caseArrivee.ligne][caseArrivee.colonne] = valeurCaseMange;","        }  ","    }","","}"]}]}],[{"group":"doc","deltas":[{"start":{"row":1663,"column":0},"end":{"row":1663,"column":23},"action":"remove","lines":["void testSiEchecEtMat()"]}]}],[{"group":"doc","deltas":[{"start":{"row":1662,"column":100},"end":{"row":1663,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":159,"column":0},"end":{"row":166,"column":35},"action":"remove","lines":["    't','c','f','q','k','f','c','t',","    'p','p','p','p','p','p','p','p',","    ' ',' ',' ',' ',' ',' ',' ',' ',","    ' ',' ',' ',' ',' ',' ',' ',' ',","    ' ',' ',' ',' ',' ',' ',' ',' ',","    ' ',' ',' ',' ',' ',' ',' ',' ',","    'P','P','P','P','P','P','P','P',","    'T',' ',' ',' ','K',' ',' ','T'"]},{"start":{"row":159,"column":0},"end":{"row":166,"column":35},"action":"insert","lines":["    't','c','f','q','k','f','c','t',","    'p',' ','p','p','p','p','p','p',","    ' ',' ',' ',' ',' ',' ','t',' ',","    ' ',' ',' ',' ',' ','k',' ',' ',","    ' ',' ',' ','K',' ',' ',' ',' ',","    ' ',' ',' ',' ',' ',' ',' ',' ',","    'P','P','P','P','P','P',' ','P',","    'T','C','F','Q','K','F','C','T'"]}]}]]},"ace":{"folds":[],"scrolltop":36861,"scrollleft":0,"selection":{"start":{"row":339,"column":1},"end":{"row":339,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":2631,"state":"comment","mode":"ace/mode/c_cpp"}},"timestamp":1429724479332,"hash":"417ea29b172e4d99fd164ef3084a1197b5239f52"}